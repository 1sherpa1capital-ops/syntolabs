import{j as w,a as o}from"./vendor-BRuzGT1m.js";import{S as N,P as O,W,C as k,f as j,M as S,e as B,o as q,B as L,a as _,b as D,A as H,c as J}from"./three-vbdUuL-P.js";const K=({color:f="#ffffff",size:a=1,position:d={x:0,y:0},className:t="",pulseSpeed:i=1})=>{const c=o.useRef(null),G=o.useRef(null),p=o.useRef(null),$=o.useRef(null),g=o.useRef(null),r=o.useRef({orb:null,glows:[],ring:null}),v=o.useRef(0),A=o.useRef(0);return o.useEffect(()=>{if(!c.current)return;const l=new N;G.current=l;const y=new O(75,1,.1,1e3);y.position.z=5,$.current=y;const u=new W({antialias:!0,alpha:!0,powerPreference:"high-performance"});u.setSize(200,200),u.setPixelRatio(Math.min(window.devicePixelRatio,2)),c.current.appendChild(u.domElement),p.current=u;const x=new k(f),F=new j(a*.5,32,32),z=new S({color:x,transparent:!0,opacity:.8}),R=new B(F,z);l.add(R),r.current.orb=R;const E=[];for(let e=1;e<=3;e++){const s=new j(a*.5+e*.5,32,32),n=new S({color:x,transparent:!0,opacity:.05/e,side:q}),h=new B(s,n);l.add(h),E.push(h)}r.current.glows=E;const M=40,P=new L,m=new Float32Array(M*3);for(let e=0;e<M;e++){const s=e/M*Math.PI*2,n=a*.5+1.2;m[e*3]=Math.cos(s)*n,m[e*3+1]=Math.sin(s)*n,m[e*3+2]=(Math.random()-.5)*.2}P.setAttribute("position",new _(m,3));const I=new D({color:x,size:.02,transparent:!0,opacity:.3,blending:H}),b=new J(P,I);l.add(b),r.current.ring=b;const C=()=>{if(g.current=requestAnimationFrame(C),v.current+=.01*i,A.current++,A.current%2===0){const e=1+Math.sin(v.current*1.5)*.05;R.scale.set(e,e,e),b.rotation.z+=.002}u.render(l,y)};return C(),()=>{var e,s;g.current&&cancelAnimationFrame(g.current),c.current&&((e=p.current)!=null&&e.domElement)&&c.current.removeChild(p.current.domElement),r.current.orb&&(r.current.orb.geometry.dispose(),r.current.orb.material.dispose()),r.current.glows.forEach(n=>{n.geometry.dispose(),(Array.isArray(n.material)?n.material:[n.material]).forEach(h=>h.dispose())}),r.current.ring&&(r.current.ring.geometry.dispose(),r.current.ring.material.dispose()),(s=p.current)==null||s.dispose()}},[f,a,i]),w.jsx("div",{ref:c,className:`absolute pointer-events-none ${t}`,style:{left:`${d.x}px`,top:`${d.y}px`,width:"200px",height:"200px"},"aria-hidden":"true"})},U=({count:f=3,className:a=""})=>{const d=Array.from({length:f},(t,i)=>({id:i,color:["#ffffff","#a1a1aa","#71717a"][i%3],size:.4+Math.random()*.6,position:{x:Math.random()*100,y:Math.random()*100},pulseSpeed:.4+Math.random()*.6}));return w.jsx("div",{className:`absolute inset-0 overflow-hidden ${a}`,children:d.map(t=>w.jsx("div",{style:{position:"absolute",left:`${t.position.x}%`,top:`${t.position.y}%`,transform:"translate(-50%, -50%)",width:"200px",height:"200px",pointerEvents:"none"},children:w.jsx(K,{color:t.color,size:t.size,position:{x:0,y:0},pulseSpeed:t.pulseSpeed})},t.id))})};export{U as OrbField,K as default};
